<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>Wax Example</title>
    </head>
    <body>
        <main>
            <h1>Wax Example</h1>
            <p>Turn your speakers up!</p>
            <button id="start">Resume audio context and start!</button>
            <section id="react-target"></section>
            <script>
                'use strict';

                /* Workaround for Chrome's Web Audio autoplay
                 * policy. See the README for more info. */

                const button = document.body.querySelector('#start');
                const audioContext = new AudioContext();
                let resumptionCallback = () => undefined;

                const onAudioContextResumed = callback => {
                    resumptionCallback = callback;
                };

                button.onclick = async () => {
                    await audioContext.resume();
                    resumptionCallback(audioContext);
                };
            </script>
            <script src="/index.js"></script>
        </main>
    </body>
</html>
